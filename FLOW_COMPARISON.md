# λ‹µλ³€ λ¶„μ„ ν”λ΅μ° λΉ„κµ λ¶„μ„

## π― μ‚¬μ©μ μ”μ²­ ν”λ΅μ° (μ¬λ°”λ¥Έ ν”λ΅μ°)

### 1. μ‚¬μ©μκ°€ μ›ν•λ” λ™μ‘
```
μΈν„°λ·° ν™”λ©΄ β†’ [λ‹µλ³€ λ¶„μ„ν•κΈ° ν΄λ¦­] β†’ μΈν„°λ·° ν™”λ©΄μ—μ„ λ²„νΌ λ΅λ”© β†’ API μ™„λ£ β†’ λ¶„μ„ κ²°κ³Ό ν™”λ©΄
```

### 2. μƒμ„Έ λ‹¨κ³„
1. **μΈν„°λ·° ν™”λ©΄μ—μ„ "λ‹µλ³€ λ¶„μ„ν•κΈ°" λ²„νΌ ν΄λ¦­**
2. **μΈν„°λ·° ν™”λ©΄ μ μ§€** + λ²„νΌμ— λ΅λ”© μ¤ν”Όλ„ ν‘μ‹
3. **λ°±κ·ΈλΌμ΄λ“μ—μ„ API νΈμ¶** (`/api/ai/analyze-answer`)
4. **API μ‘λ‹µ μ™„λ£ μ‹** β†’ μ¦‰μ‹ λ¶„μ„ κ²°κ³Ό ν™”λ©΄μΌλ΅ μ „ν™
5. **λ¶„μ„ κ²°κ³Ό ν™”λ©΄μ—μ„ μ™„μ „ν• λ°μ΄ν„° ν‘μ‹** (μ μ, ν”Όλ“λ°± λ“±)

### 3. ν•µμ‹¬ ν¬μΈνΈ
- β… λ¶„μ„ μ¤‘μ—λ” **μΈν„°λ·° ν™”λ©΄**μ—μ„ λ΅λ”©
- β… λ¶„μ„ μ™„λ£ ν›„μ—λ§ **λ¶„μ„ κ²°κ³Ό ν™”λ©΄**μΌλ΅ μ΄λ™
- β… λ¶„μ„ ν™”λ©΄μ—μ„λ” λ΅λ”©μ΄ λ³΄μ΄λ©΄ μ•λ¨ (μ™„μ „ν• λ°μ΄ν„°μ™€ ν•¨κ» ν‘μ‹)

---

## π”§ ν„μ¬ κµ¬ν„λ ν”λ΅μ° (λ¬Έμ κ°€ μλ” ν”λ΅μ°)

### 1. ν„μ¬ λ™μ‘
```
μΈν„°λ·° ν™”λ©΄ β†’ [λ‹µλ³€ λ¶„μ„ν•κΈ° ν΄λ¦­] β†’ μΈν„°λ·° ν™”λ©΄μ—μ„ λ²„νΌ λ΅λ”© β†’ API μ™„λ£ β†’ λ¶„μ„ ν™”λ©΄μ λ΅λ”©
```

### 2. μƒμ„Έ λ‹¨κ³„
1. **μΈν„°λ·° ν™”λ©΄μ—μ„ "λ‹µλ³€ λ¶„μ„ν•κΈ°" λ²„νΌ ν΄λ¦­**
2. **μΈν„°λ·° ν™”λ©΄ μ μ§€** + λ²„νΌμ— λ΅λ”© μ¤ν”Όλ„ ν‘μ‹ β…
3. **λ°±κ·ΈλΌμ΄λ“μ—μ„ API νΈμ¶** (`/api/ai/analyze-answer`) β…
4. **API μ‘λ‹µ μ™„λ£ μ‹** β†’ `setCurrentAnalysis(analysis)` νΈμ¶
5. **useEffectμ—μ„ κ°μ§€** β†’ λ¶„μ„ ν™”λ©΄μΌλ΅ μ „ν™
6. **λ¶„μ„ ν™”λ©΄μ—μ„ λ΅λ”© ν‘μ‹** β (currentAnalysisκ°€ null)

### 3. λ¬Έμ μ 
- β React μƒνƒ μ—…λ°μ΄νΈ νƒ€μ΄λ° λ¬Έμ λ΅ `currentAnalysis`κ°€ μ—¬μ „ν null
- β λ¶„μ„ ν™”λ©΄μΌλ΅ μ „ν™ν–μ§€λ§ λ°μ΄ν„°κ°€ μ—†μ–΄μ„ λ΅λ”© ν™”λ©΄ ν‘μ‹
- β κ²°κ³Όμ μΌλ΅ "λ¶„μ„ λ΅λ”© β†’ λ¶„μ„ λ΅λ”©" μ΄μ¤‘ λ΅λ”© λ°μƒ

---

## π¨ κ·Όλ³Έ λ¬Έμ  λ¶„μ„

### 1. React μƒνƒ μ—…λ°μ΄νΈ λΉ„λ™κΈ°μ„±
```javascript
// μ΄ μ½”λ“μ λ¬Έμ μ 
setCurrentAnalysis(analysis);  // μƒνƒ μ—…λ°μ΄νΈ μ”μ²­ (λΉ„λ™κΈ°)
setCurrentScreen("analysis");  // μ¦‰μ‹ ν™”λ©΄ μ „ν™ (λ™κΈ°)
// β†’ ν™”λ©΄ μ „ν™μ΄ λ¨Όμ € λκ³ , μƒνƒ μ—…λ°μ΄νΈκ°€ λ‚μ¤‘μ— λ¨
```

### 2. μ½μ†” λ΅κ·Έ μ¦κ±°
```
β… API Response status: 200
β… Analysis received: {...}  
β… currentAnalysis state changed: analysis-xxx  // μƒνƒλ” μ„¤μ •λ¨
β AnalysisScreen render: currentAnalysis: null  // ν™”λ©΄μ—μ„λ” null
```

### 3. νƒ€μ΄λ° μ΄μ
- `setCurrentAnalysis(analysis)` νΈμ¶ β†’ React μƒνƒ μ—…λ°μ΄νΈ νμ— μ¶”κ°€
- `setCurrentScreen("analysis")` νΈμ¶ β†’ μ¦‰μ‹ ν™”λ©΄ μ „ν™
- λ¶„μ„ ν™”λ©΄ λ λ”λ§ μ‹μ  β†’ μ•„μ§ `currentAnalysis` μƒνƒκ°€ μ—…λ°μ΄νΈ μ•λ¨

---

## π’΅ μ¬λ°”λ¥Έ ν•΄κ²° λ°©μ•

### λ°©μ• 1: μƒνƒ μ™„μ „ μ—…λ°μ΄νΈ ν›„ ν™”λ©΄ μ „ν™
```javascript
// API μ™„λ£ ν›„
setCurrentAnalysis(analysis);

// useStateμ μ½λ°±μ„ μ‚¬μ©ν•΄μ„ μƒνƒκ°€ μ‹¤μ λ΅ μ—…λ°μ΄νΈλ ν›„ μ „ν™
useEffect(() => {
  if (currentAnalysis && isAnalyzing && currentScreen === "interview") {
    setCurrentScreen("analysis");
    setIsAnalyzing(false);
  }
}, [currentAnalysis, isAnalyzing, currentScreen]);
```

### λ°©μ• 2: λ¶„μ„ ν™”λ©΄μ—μ„ λ” λ‚μ€ λ΅λ”© μ²λ¦¬
```javascript
// λ¶„μ„ ν™”λ©΄μ—μ„ currentAnalysisκ°€ nullμΌ λ•λ„ μ μ ν μ²λ¦¬
if (!currentAnalysis && isAnalyzing) {
  // λ΅λ”© ν™”λ©΄ ν‘μ‹
} else if (!currentAnalysis) {
  // μ—λ¬ μ²λ¦¬
} else {
  // μ •μƒ λ°μ΄ν„° ν‘μ‹
}
```

### λ°©μ• 3: μƒνƒ κµ¬μ΅° κ°μ„ 
```javascript
// λ¶„μ„ μƒνƒλ¥Ό λ” λ…ν™•ν•κ² κ΄€λ¦¬
const [analysisState, setAnalysisState] = useState({
  isAnalyzing: false,
  data: null,
  error: null
});
```

---

## π― κ²°λ΅  λ° λ‹¤μ λ‹¨κ³„

### ν„μ¬ μƒν™©
- **μ‚¬μ©μ μ”κµ¬μ‚¬ν•­**: μΈν„°λ·° ν™”λ©΄ λ΅λ”© β†’ μ™„μ„±λ λ¶„μ„ κ²°κ³Ό ν™”λ©΄
- **ν„μ¬ κµ¬ν„**: μΈν„°λ·° ν™”λ©΄ λ΅λ”© β†’ λ¶„μ„ ν™”λ©΄ λ΅λ”© β†’ λ¶„μ„ κ²°κ³Ό ν™”λ©΄
- **λ¬Έμ **: React μƒνƒ μ—…λ°μ΄νΈ νƒ€μ΄λ°μΌλ΅ μΈν• μ΄μ¤‘ λ΅λ”©

### ν•΄κ²°ν•΄μ•Ό ν•  κ²ƒ
1. β… API νΈμ¶μ€ μ •μƒ μ‘λ™
2. β `currentAnalysis` μƒνƒκ°€ ν™”λ©΄ μ „ν™ μ‹μ μ— null
3. β λ¶„μ„ ν™”λ©΄μ—μ„ λ¶ν•„μ”ν• λ΅λ”© ν‘μ‹

### μµμΆ… λ©ν‘
μ‚¬μ©μκ°€ "λ‹µλ³€ λ¶„μ„ν•κΈ°" λ²„νΌμ„ ν΄λ¦­ν•λ©΄ β†’ μΈν„°λ·° ν™”λ©΄μ—μ„λ§ λ΅λ”© β†’ μ™„μ „ν• λ¶„μ„ κ²°κ³Όλ¥Ό λ°”λ΅ ν‘μ‹